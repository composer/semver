$statements = array();
$statements['packageA'] = function() {
    $version = '%version%';
    $version = preg_replace(array('/[-_+]/', '/([^\d\.])([^\D\.])/', '/([^\D\.])([^\d\.])/'), array('.', '$1.$2', '$1.$2'), $version);
    $versionChunks = explode('.', $version);
    $versionLengths = array(count($versionChunks));
    $upperVersion = '1.0.0.0.dev';
    $upperVersionChunks = explode('.', $upperVersion);
    $versionLengths[] = count($upperVersionChunks);
    $max = max($versionLengths);
    $version = implode('.', array_pad($versionChunks, $max, '0'));
    $upperVersion = implode('.', array_pad($upperVersionChunks, $max, '0'));
    return version_compare($version, $upperVersion, '<');
};

foreach ($statements as $k => $statement) {
   if (!$statement()) {
       return $k;
   }
}

return true;